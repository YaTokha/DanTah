
# üì¶ FastAPI ML API

–≠—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ FastAPI, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–µ REST API –¥–ª—è —Ç—Ä—ë—Ö –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è:

- üîç –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (ResNet)
- üéô –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ (Speech-to-Text)
- ‚úçÔ∏è –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–∫—Å—Ç–∞

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
FastAPI_App/
‚îú‚îÄ‚îÄ main.py                    
‚îú‚îÄ‚îÄ requirements.txt           
‚îú‚îÄ‚îÄ README.md                  

‚îú‚îÄ‚îÄ ImageClassifier/
‚îÇ   ‚îú‚îÄ‚îÄ image_classifier.py    
‚îÇ   ‚îú‚îÄ‚îÄ imagenet_labels.json   
‚îÇ   ‚îî‚îÄ‚îÄ data/                  

‚îú‚îÄ‚îÄ Speech/
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îú‚îÄ‚îÄ run.py
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ preprocess.py
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ transcriber.py
‚îÇ   ‚îú‚îÄ‚îÄ data/                 
‚îÇ   ‚îî‚îÄ‚îÄ processed/            

‚îú‚îÄ‚îÄ TextTonality/
‚îÇ   ‚îú‚îÄ‚îÄ sentiment_analysis.py
‚îÇ   ‚îî‚îÄ‚îÄ result/               
```

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

> –¢—Ä–µ–±—É–µ—Ç—Å—è Python 3.8+

1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

2. –ó–∞–ø—É—Å—Ç–∏ FastAPI-—Å–µ—Ä–≤–µ—Ä:

```bash
uvicorn main:app --reload
```

3. –ü–µ—Ä–µ–π—Ç–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

üìç http://127.0.0.1:8000/docs ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è  
üìç http://127.0.0.1:8000/redoc ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üîÅ API-–º–∞—Ä—à—Ä—É—Ç—ã

### üì∑ POST `/classify-image/`
–ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Ñ–æ—Ä–º–∞—Ç PNG/JPG)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `file`: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "label": "panda"
}
```

---

### üîä POST `/transcribe/`
–†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç —Ä–µ—á—å –∏–∑ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞ (—Ñ–æ—Ä–º–∞—Ç .mp3 –∏–ª–∏ .wav)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `file`: –∞—É–¥–∏–æ—Ñ–∞–π–ª

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "transcription": "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?"
}
```

---

### üß† POST `/analyze-tonality/`
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–∞—è, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `text`: —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

**–ü—Ä–∏–º–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "text": "–ú–Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç!"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "sentiment": "positive"
}
```

---

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

- `500 Internal Server Error` ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, –∏ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –û—à–∏–±–∫–∞ —Å `python-multipart` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏:
  ```bash
  pip install python-multipart
  ```

---

## ‚úÖ –°–æ–≤–µ—Ç—ã

- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–µ—Ä–≤–µ—Ä–∞:
  ```bash
  uvicorn main:app --host 0.0.0.0 --port 80
  ```

- –î–µ–ø–ª–æ–π: –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker, Heroku, Render, Railway
